<uib-alert class="alert-centered" type="danger" data-ng-if="error">
	<p><span class="glyphicon glyphicon-remove-sign"></span></p>
	<p data-ng-if="isDefined(error.code)"><strong>{{error.code}}</strong></p>
	<p data-ng-if="isDefined(error.detail)">{{error.detail}}</p>
</uib-alert>
<div data-ng-if="isDefined(users)" class="row">
	<div class="col-md-12">
		<h1 class="page-header">Global Settings</h1>
		<ul class="nav nav-tabs">
		  <li role="presentation" class="active"><a data-ng-href="#/admin/users">Users</a></li>
		  <li role="presentation"><a href="#">More</a></li>
		</ul>
		<div class="row">
			<div class="col-sm-9">
				<h3>Current Users</h3>
				<div class="panel panel-default">
					<div class="table-responsive">
						<table class="table">
							<thead>
								<tr>
									<th>Name</th>
									<th>Admin</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr data-ng-repeat="user in users" data-ng-class="{info: isCurrentUser(user)}">
									<td class="user" style="width: 100%">{{user.username}}</td>
									<td class="admin" style="text-align: center">
										<span data-ng-if="isAdmin(user)" class="glyphicon glyphicon-ok"></span>
									</td>
									<td>
										<span data-ng-if="!isCurrentUser(user)" class="glyphicon glyphicon-trash"></span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<form data-ng-submit="createUser()">
					<h3>New User</h3>
					<div class="form-group" data-ng-class="{'has-error': errors['username']}">
						<label for="username" class="control-label">
							Username<span data-ng-if="errors['username']"> ({{errors['username']}})</span>
						</label>
						<input class="form-control" type="text" autofocus required id="username" name="username" placeholder="Username" data-ng-model="newUser.username">
					</div>
					<div class="form-group" data-ng-class="{'has-error': errors['password']}">
						<label for="password" class="control-label">
							Password<span data-ng-if="errors['password']"> ({{errors['password']}})</span>
						</label>
						<input class="form-control" type="password" required id="password" name="password" placeholder="Password" data-ng-model="newUser.password">
					</div>
					<div class="form-group">
						<div class="checkbox">
							<label><input type="checkbox" name="admin" data-ng-model="newUser.isAdmin">Admin</label>
						</div>
					</div>
					<div class="form-group">
						<button type="submit" class="btn btn-primary">Add User</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>